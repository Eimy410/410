<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>表情选择 | Emoji Picker</title>
    
    <!-- Favicon 网站图标 -->
    <link rel="icon" type="image/png" href="546496.png">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', 'SimHei', sans-serif;
            background: linear-gradient(180deg, 
                #5B9AE0 0%,
                #6BA8E8 20%,
                #7BB6F0 40%,
                #8BC4F8 60%,
                #9BD2FF 80%,
                #ABE0FF 100%
            );
            background-attachment: fixed;
            padding: 20px;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }

        /* 雪花飘落效果 */
        body::before {
            content: '❄';
            position: fixed;
            top: -10%;
            left: 20%;
            font-size: 2em;
            color: rgba(255,255,255,0.7);
            animation: snowfall 8s linear infinite, sway 3s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }

        body::after {
            content: '❅';
            position: fixed;
            top: -10%;
            right: 30%;
            font-size: 1.5em;
            color: rgba(255,255,255,0.6);
            animation: snowfall 10s linear infinite 2s, sway 4s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
        }

        @keyframes snowfall {
            0% { transform: translateY(-100px); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(100vh); opacity: 0; }
        }

        @keyframes sway {
            0%, 100% { transform: translateX(0); }
            50% { transform: translateX(30px); }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeInDown 0.8s ease;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            color: #FFF4A3;
            font-size: 3.2em;
            margin-bottom: 15px;
            font-weight: 900;
            text-shadow: 
                3px 0 0 #FFB347,
                -3px 0 0 #FFB347,
                0 3px 0 #FFB347,
                0 -3px 0 #FFB347,
                3px 3px 0 #FF8C42,
                6px 6px 0 #3A7BC8,
                8px 8px 0 rgba(0,0,0,0.3);
            letter-spacing: 4px;
            filter: contrast(1.1);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .stats-container {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            animation: fadeIn 1s ease;
        }

        .stat-item {
            background: #A8C8F0;
            color: white;
            padding: 12px 25px;
            border-radius: 12px;
            font-weight: 700;
            box-shadow: 0 3px 8px rgba(0,0,0,0.2);
            border: 4px solid #FFFFFF;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            transition: transform 0.15s ease;
        }

        .stat-item:hover {
            transform: translateY(1px);
            box-shadow: 0 2px 6px rgba(0,0,0,0.25);
        }

        .main-content {
            background: #E8F4FF;
            padding: 35px;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            animation: fadeIn 1.2s ease;
            border: 5px solid #FFFFFF;
            position: relative;
        }

        /* 像素装饰点 */
        .main-content::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 15px;
            width: 12px;
            height: 12px;
            background: #FFD93D;
            border: 3px solid #FFF;
            box-shadow: 
                30px 0 0 #FF6B9D,
                30px 0 0 0 3px #FFF,
                60px 0 0 #6BCFFF,
                60px 0 0 0 3px #FFF;
        }

        .main-content::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 8px;
            right: -8px;
            height: 8px;
            background: #5B9AD8;
            border-radius: 0 0 12px 12px;
            z-index: -1;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .category {
            animation: slideIn 0.6s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .category-header {
            background: #C8D8FF;
            color: white;
            padding: 14px 18px;
            border-radius: 12px;
            font-weight: 700;
            box-shadow: 0 3px 8px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.15s ease, background 0.15s ease;
            user-select: none;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 1em;
            border: 4px solid #FFFFFF;
            margin-bottom: 0;
            width: 100%;
            white-space: nowrap;
            min-height: 48px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            position: relative;
            will-change: transform;
        }

        .category-header:hover {
            transform: translateY(1px);
            box-shadow: 0 2px 6px rgba(0,0,0,0.25);
            background: #B8C8F8;
        }

        .category-header:active {
            transform: translateY(2px);
            box-shadow: 0 1px 4px rgba(0,0,0,0.2);
        }

        .category-icon {
            font-size: 1.1em;
        }

        .category-title {
            font-size: 0.95em;
        }

        .emoji-content {
            display: none;
            grid-template-columns: repeat(auto-fill, minmax(85px, 1fr));
            gap: 12px;
            padding: 25px;
            background: #FFFFFF;
            border-radius: 12px;
            margin-top: 20px;
            animation: expandGrid 0.4s ease;
            border: 4px solid #B8D8FF;
            box-shadow: 0 2px 8px rgba(0,0,0,0.12);
        }

        .emoji-content.active {
            display: grid;
        }

        @keyframes expandGrid {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .category-header.active {
            background: #FFB347;
            box-shadow: 0 3px 8px rgba(255,107,61,0.4);
            border-color: #FFF;
        }

        .emoji-item {
            font-size: 2em;
            padding: 12px 10px 10px 10px;
            text-align: center;
            cursor: pointer;
            border-radius: 10px;
            transition: transform 0.15s ease, background 0.15s ease, border-color 0.15s ease;
            background: #F0F8FF;
            border: 3px solid #D0E0F8;
            position: relative;
            user-select: none;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.12);
            will-change: transform;
        }

        .emoji-char {
            font-size: 1em;
        }

        .emoji-label {
            font-size: 0.28em;
            color: #666;
            line-height: 1.3;
            width: 100%;
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            user-select: none;
            padding: 0 1px;
            text-align: center;
        }

        /* 变体角标 */
        .emoji-variant-badge {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 0;
            height: 0;
            border-style: solid;
            border-width: 0 0 26px 26px;
            border-color: transparent transparent rgba(128, 128, 128, 0.75) transparent;
            pointer-events: none;
            border-radius: 0 0 10px 0;
            overflow: visible;
        }

        .emoji-variant-badge::after {
            content: '变体';
            position: absolute;
            bottom: -20px;
            right: -1px;
            font-size: 9px;
            color: white;
            font-weight: 600;
            transform: rotate(-45deg);
            transform-origin: center center;
            white-space: nowrap;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
            line-height: 1;
        }

        .emoji-item:hover {
            transform: translateY(-2px);
            background: #FFE66D;
            border-color: #FFD93D;
            box-shadow: 0 4px 8px rgba(255,200,61,0.3);
            z-index: 10;
        }

        .emoji-item:hover .emoji-label {
            color: #FF8C42;
            font-weight: 700;
        }

        .emoji-item:active {
            transform: translateY(0px);
            box-shadow: 0 1px 3px rgba(255,200,61,0.25);
        }

        /* 变体弹出菜单 */
        .variant-popup {
            position: fixed;
            background: #E8F4FF;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.25);
            padding: 15px 18px;
            display: none;
            z-index: 9999;
            animation: popupFadeIn 0.2s ease;
            border: 5px solid #FFFFFF;
            max-width: 90vw;
            max-height: 80vh;
            overflow-y: auto;
        }

        .variant-popup.show {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap; /* 允许换行 */
            gap: 8px;
        }

        @keyframes popupFadeIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .variant-item {
            font-size: 2em;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            border-radius: 8px;
            transition: transform 0.15s ease, background 0.15s ease;
            background: #FFFFFF;
            min-width: 55px;
            flex-shrink: 0;
            border: 3px solid #D0E8FF;
            box-shadow: 0 2px 4px rgba(0,0,0,0.15);
            will-change: transform;
        }

        .variant-item:hover {
            background: #FFE66D;
            border-color: #FFD93D;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(255,200,61,0.3);
        }

        .variant-item:active {
            transform: translateY(0px);
            box-shadow: 0 1px 3px rgba(255,200,61,0.25);
        }

        .emoji-item.copied {
            animation: copyPulse 0.6s ease;
        }

        @keyframes copyPulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.3);
                background: #4ade80;
            }
        }

        .toast {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #6BCF7C;
            color: white;
            padding: 16px 28px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            font-weight: 700;
            font-size: 1.2em;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.2s ease, transform 0.2s ease;
            pointer-events: none;
            z-index: 10000;
            border: 4px solid #FFFFFF;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }

        footer {
            text-align: center;
            margin-top: 40px;
            color: rgba(255,255,255,0.9);
            font-size: 1em;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }

        /* 响应式设计 */
        @media (max-width: 1200px) {
            .categories-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 992px) {
            .categories-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2em;
            }

            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .emoji-content {
                grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
                gap: 8px;
                padding: 15px;
            }

            .emoji-item {
                font-size: 1.4em;
                padding: 8px 4px 6px 4px;
            }

            .emoji-label {
                font-size: 0.28em;
            }

            .emoji-variant-badge {
                border-width: 0 0 22px 22px;
            }

            .emoji-variant-badge::after {
                font-size: 8px;
                bottom: -17px;
                right: -1px;
            }

            .main-content {
                padding: 20px;
            }

            .toast {
                bottom: 20px;
                right: 20px;
                left: 20px;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .categories-grid {
                grid-template-columns: repeat(1, 1fr);
            }
        }

        /* 滚动条美化 */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #764ba2, #667eea);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>✨ 表情选择 ✨</h1>
        </header>

        <div class="stats-container">
            <div class="stat-item">📊 基本表情: <span id="totalCount">0</span> 个 | 包含变体共3953个 | 右键选择变体</div>
        </div>

        <div class="main-content" id="emojiContainer">
            <!-- 表情内容将通过JavaScript生成 -->
        </div>

        <footer>
            <p> 🌈让表达更生动 </p>
        </footer>
    </div>

    <div class="toast" id="toast">✅ 已复制到剪贴板！</div>
    
    <!-- 变体弹出菜单 -->
    <div class="variant-popup" id="variantPopup"></div>

    <script>
        // 完整的Emoji数据库
        const emojiData = {
            "😋 表情与情感": {
                icon: "😊",
                keywords: ["表情", "情感", "笑脸", "开心", "难过", "生气", "惊讶"],
                emojis: [
                    "😀", "😃", "😄", "😁", "😆", "😅", "🤣", "😂", "🙂", "🙃", 
                    "😉", "😊", "😇", "🥰", "😍", "🤩", "😘", "😗", "☺️", "😚", 
                    "😙", "🥲", "😋", "😛", "😜", "🤪", "😝", "🤑", "🤗", "🤭", 
                    "🤫", "🤔", "🤐", "🤨", "😐", "😑", "😶", "😶‍🌫️", "😏", "😒", 
                    "🙄", "😬", "😮‍💨", "🤥", "😌", "😔", "😪", "🤤", "😴", "😷", 
                    "🤒", "🤕", "🤢", "🤮", "🤧", "🥵", "🥶", "🥴", "😵", "😵‍💫", 
                    "🤯", "🤠", "🥳", "🥸", "😎", "🤓", "🧐", "😕", "😟", "🙁", 
                    "☹️", "😮", "😯", "😲", "😳", "🥺", "🥹", "😦", "😧", "😨", 
                    "😰", "😥", "😢", "😭", "😱", "😖", "😣", "😞", "😓", "😩", 
                    "😫", "🥱", "😤", "😡", "😠", "🤬", "😈", "👿", "💀", "☠️", 
                    "💩", "🤡", "👹", "👺", "👻", "👽", "👾", "🤖", "😺", "😸", 
                    "😹", "😻", "😼", "😽", "🙀", "😿", "😾", "🙂‍↔️", "🙂‍↕️", 
                    "🫠", "🫡", "🫢", "🫣", "🫥", "🫨", "💋", "💌", "💘", "💝",
                    "💖", "💗", "💓", "💞", "💕", "💟", "❣️", "💔", "❤️‍🔥", "❤️‍🩹",
                    "❤️", "🩷", "🧡", "💛", "💚", "💙", "🩵", "💜", "🤎", "🖤",
                    "🩶", "🤍", "💯", "💢", "💥", "💫", "💦", "💨", "🕳️", "💬",
                    "👁️‍🗨️", "🗨️", "🗯️", "💭", "💤"
                ]
            },
            "🤚 手势与身体": {
                icon: "👋",
                keywords: ["手", "手势", "身体", "器官", "手指"],
                emojis: [
                    "👋", "🤚", "🖐️", "✋", "🖖", "👌", "🤌", "🤏", "✌️", "🤞",
                    "🤟", "🤘", "🤙", "👈", "👉", "👆", "🖕", "👇", "☝️", "👍",
                    "👎", "✊", "👊", "🤛", "🤜", "👏", "🙌", "👐", "🤲", "🤝",
                    "🙏", "✍️", "💅", "🤳", "💪", "🦾", "🦿", "🦵", "🦶", "👂",
                    "🦻", "👃", "🧠", "🫀", "🫁", "🦷", "🦴", "👀", "👁️", "👅",
                    "👄", "💋", "🩸", "🫦"
                ]
            },
            "👤 人物与角色": {
                icon: "👨",
                keywords: ["人", "人物", "男", "女", "职业", "家庭", "角色"],
                emojis: [
                    "👶", "👧", "🧒", "👦", "👩", "🧑", "👨", "👩‍🦱", "🧑‍🦱", "👨‍🦱",
                    "👩‍🦰", "🧑‍🦰", "👨‍🦰", "👱‍♀️", "👱", "👱‍♂️", "👩‍🦳", "🧑‍🦳", "👨‍🦳", "👩‍🦲",
                    "🧑‍🦲", "👨‍🦲", "🧔", "🧔‍♀️", "🧔‍♂️", "👵", "🧓", "👴", "👲", "👳‍♀️",
                    "👳", "👳‍♂️", "🧕", "👮‍♀️", "👮", "👮‍♂️", "👷‍♀️", "👷", "👷‍♂️", "💂‍♀️",
                    "💂", "💂‍♂️", "🕵️‍♀️", "🕵️", "🕵️‍♂️", "👩‍⚕️", "🧑‍⚕️", "👨‍⚕️", "👩‍🌾", "🧑‍🌾",
                    "👨‍🌾", "👩‍🍳", "🧑‍🍳", "👨‍🍳", "👩‍🎓", "🧑‍🎓", "👨‍🎓", "👩‍🎤", "🧑‍🎤", "👨‍🎤",
                    "👩‍🏫", "🧑‍🏫", "👨‍🏫", "👩‍🏭", "🧑‍🏭", "👨‍🏭", "👩‍💻", "🧑‍💻", "👨‍💻", "👩‍💼",
                    "🧑‍💼", "👨‍💼", "👩‍🔧", "🧑‍🔧", "👨‍🔧", "👩‍🔬", "🧑‍🔬", "👨‍🔬", "👩‍🎨", "🧑‍🎨",
                    "👨‍🎨", "👩‍🚒", "🧑‍🚒", "👨‍🚒", "👩‍✈️", "🧑‍✈️", "👨‍✈️", "👩‍🚀", "🧑‍🚀", "👨‍🚀",
                    "👩‍⚖️", "🧑‍⚖️", "👨‍⚖️", "👰‍♀️", "👰", "👰‍♂️", "🤵‍♀️", "🤵", "🤵‍♂️", "👸",
                    "🤴", "🥷", "🦸‍♀️", "🦸", "🦸‍♂️", "🦹‍♀️", "🦹", "🦹‍♂️", "🧙‍♀️", "🧙",
                    "🧙‍♂️", "🧚‍♀️", "🧚", "🧚‍♂️", "🧛‍♀️", "🧛", "🧛‍♂️", "🧜‍♀️", "🧜", "🧜‍♂️",
                    "🧝‍♀️", "🧝", "🧝‍♂️", "🧞‍♀️", "🧞", "🧞‍♂️", "🧟‍♀️", "🧟", "🧟‍♂️", "💆‍♀️",
                    "💆", "💆‍♂️", "💇‍♀️", "💇", "💇‍♂️", "🚶‍♀️", "🚶", "🚶‍♂️", "🧍‍♀️", "🧍",
                    "🧍‍♂️", "🧎‍♀️", "🧎", "🧎‍♂️", "🏃‍♀️", "🏃", "🏃‍♂️", "💃", "🕺", "🕴️",
                    "👯‍♀️", "👯", "👯‍♂️", "🧖‍♀️", "🧖", "🧖‍♂️", "🧗‍♀️", "🧗", "🧗‍♂️", "🤺",
                    "🏇", "⛷️", "🏂", "🏌️‍♀️", "🏌️", "🏌️‍♂️", "🏄‍♀️", "🏄", "🏄‍♂️", "🚣‍♀️",
                    "🚣", "🚣‍♂️", "🏊‍♀️", "🏊", "🏊‍♂️", "⛹️‍♀️", "⛹️", "⛹️‍♂️", "🏋️‍♀️", "🏋️",
                    "🏋️‍♂️", "🚴‍♀️", "🚴", "🚴‍♂️", "🚵‍♀️", "🚵", "🚵‍♂️", "🤸‍♀️", "🤸", "🤸‍♂️",
                    "🤼‍♀️", "🤼", "🤼‍♂️", "🤽‍♀️", "🤽", "🤽‍♂️", "🤾‍♀️", "🤾", "🤾‍♂️", "🤹‍♀️",
                    "🤹", "🤹‍♂️", "🧘‍♀️", "🧘", "🧘‍♂️", "🛀", "🛌", "🧑‍🤝‍🧑", "👭", "👫",
                    "👬", "💏", "👩‍❤️‍💋‍👨", "👨‍❤️‍💋‍👨", "👩‍❤️‍💋‍👩", "💑", "👩‍❤️‍👨", "👨‍❤️‍👨", "👩‍❤️‍👩",
                    "👪", "👨‍👩‍👦", "👨‍👩‍👧", "👨‍👩‍👧‍👦", "👨‍👩‍👦‍👦", "👨‍👩‍👧‍👧", "👨‍👨‍👦", "👨‍👨‍👧", "👨‍👨‍👧‍👦", "👨‍👨‍👦‍👦",
                    "👨‍👨‍👧‍👧", "👩‍👩‍👦", "👩‍👩‍👧", "👩‍👩‍👧‍👦", "👩‍👩‍👦‍👦", "👩‍👩‍👧‍👧", "👨‍👦", "👨‍👦‍👦", "👨‍👧", "👨‍👧‍👦",
                    "👨‍👧‍👧", "👩‍👦", "👩‍👦‍👦", "👩‍👧", "👩‍👧‍👦", "👩‍👧‍👧", "🗣️", "👤", "👥", "🫂"
                ]
            },
            "💖 爱心与符号": {
                icon: "❤️",
                keywords: ["爱心", "心", "符号", "标志", "感情"],
                emojis: [
                    "💋", "💌", "💘", "💝", "💖", "💗", "💓", "💞", "💕", "💟",
                    "❣️", "💔", "❤️‍🔥", "❤️‍🩹", "❤️", "🧡", "💛", "💚", "💙", "💜",
                    "🤎", "🖤", "🤍", "💯", "💢", "💥", "💫", "💦", "💨", "🕳️",
                    "💬", "👁️‍🗨️", "🗨️", "🗯️", "💭", "💤"
                ]
            },
            "🐶 动物与宠物": {
                icon: "🐾",
                keywords: ["动物", "宠物", "哺乳", "鸟", "爬行", "昆虫", "海洋"],
                emojis: [
                    "🐶", "🐱", "🐭", "🐹", "🐰", "🦊", "🐻", "🐼", "🐻‍❄️", "🐨",
                    "🐯", "🦁", "🐮", "🐷", "🐽", "🐸", "🐵", "🙈", "🙉", "🙊",
                    "🐒", "🐔", "🐧", "🐦", "🐤", "🐣", "🐥", "🦆", "🦅", "🦉",
                    "🦇", "🐺", "🐗", "🐴", "🦄", "🐝", "🪱", "🐛", "🦋", "🐌",
                    "🐞", "🐜", "🪰", "🪲", "🪳", "🦟", "🦗", "🕷️", "🕸️", "🦂",
                    "🐢", "🐍", "🦎", "🦖", "🦕", "🐙", "🦑", "🦐", "🦞", "🦀",
                    "🐡", "🐠", "🐟", "🐬", "🐳", "🐋", "🦈", "🐊", "🐅", "🐆",
                    "🦓", "🦍", "🦧", "🦣", "🐘", "🦛", "🦏", "🐪", "🐫", "🦒",
                    "🦘", "🦬", "🐃", "🐂", "🐄", "🐎", "🐖", "🐏", "🐑", "🦙",
                    "🐐", "🦌", "🐕", "🐩", "🦮", "🐕‍🦺", "🐈", "🐈‍⬛", "🪶", "🐓",
                    "🦃", "🦤", "🦚", "🦜", "🦢", "🦩", "🕊️", "🐇", "🦝", "🦨",
                    "🦡", "🦫", "🦦", "🦥", "🐁", "🐀", "🐿️", "🦔", "🐾", "🐉",
                    "🐲", "🌵", "🎄", "🌲", "🌳", "🌴", "🪵", "🌱", "🌿", "☘️",
                    "🍀", "🎍", "🪴", "🎋", "🍃", "🍂", "🍁", "🍄", "🐚", "🪨",
                    "🌾", "💐", "🌷", "🌹", "🥀", "🪷", "🌺", "🌸", "🌼", "🌻",
                    "🌞", "🌝", "🌛", "🌜", "🌚", "🌕", "🌖", "🌗", "🌘", "🌑",
                    "🌒", "🌓", "🌔", "🌙", "🌎", "🌍", "🌏", "🪐", "💫", "⭐",
                    "🌟", "✨", "⚡", "☄️", "💥", "🔥", "🌪️", "🌈", "☀️", "🌤️",
                    "⛅", "🌥️", "☁️", "🌦️", "🌧️", "⛈️", "🌩️", "🌨️", "❄️", "☃️",
                    "⛄", "🌬️", "💨", "💧", "💦", "☔", "☂️", "🌊", "🌫️"
                ]
            },
            "🍎 食物与饮品": {
                icon: "🍔",
                keywords: ["食物", "水果", "蔬菜", "饮料", "甜点", "快餐"],
                emojis: [
                    "🍏", "🍎", "🍐", "🍊", "🍋", "🍌", "🍉", "🍇", "🍓", "🫐",
                    "🍈", "🍒", "🍑", "🥭", "🍍", "🥥", "🥝", "🍅", "🍆", "🥑",
                    "🥦", "🥬", "🥒", "🌶️", "🫑", "🌽", "🥕", "🫒", "🧄", "🧅",
                    "🥔", "🍠", "🥐", "🥯", "🍞", "🥖", "🥨", "🧀", "🥚", "🍳",
                    "🧈", "🥞", "🧇", "🥓", "🥩", "🍗", "🍖", "🦴", "🌭", "🍔",
                    "🍟", "🍕", "🫓", "🥪", "🥙", "🧆", "🌮", "🌯", "🫔", "🥗",
                    "🥘", "🫕", "🥫", "🍝", "🍜", "🍲", "🍛", "🍣", "🍱", "🥟",
                    "🦪", "🍤", "🍙", "🍚", "🍘", "🍥", "🥠", "🥮", "🍢", "🍡",
                    "🍧", "🍨", "🍦", "🥧", "🧁", "🍰", "🎂", "🍮", "🍭", "🍬",
                    "🍫", "🍿", "🍩", "🍪", "🌰", "🥜", "🫘", "🍯", "🥛", "🍼",
                    "🫖", "☕", "🍵", "🧃", "🥤", "🧋", "🍶", "🍺", "🍻", "🥂",
                    "🍷", "🥃", "🍸", "🍹", "🧉", "🍾", "🧊", "🥄", "🍴", "🍽️",
                    "🥣", "🥡", "🥢", "🧂"
                ]
            },
            "⚽ 运动与活动": {
                icon: "🏆",
                keywords: ["运动", "球类", "健身", "比赛", "奖牌", "活动"],
                emojis: [
                    "⚽", "🏀", "🏈", "⚾", "🥎", "🎾", "🏐", "🏉", "🥏", "🎱",
                    "🪀", "🏓", "🏸", "🏒", "🏑", "🥍", "🏏", "🪃", "🥅", "⛳",
                    "🪁", "🏹", "🎣", "🤿", "🥊", "🥋", "🎽", "🛹", "🛼", "🛷",
                    "⛸️", "🥌", "🎿", "⛷️", "🏂", "🪂", "🏋️‍♀️", "🏋️", "🏋️‍♂️", "🤼‍♀️",
                    "🤼", "🤼‍♂️", "🤸‍♀️", "🤸", "🤸‍♂️", "⛹️‍♀️", "⛹️", "⛹️‍♂️", "🤺", "🤾‍♀️",
                    "🤾", "🤾‍♂️", "🏌️‍♀️", "🏌️", "🏌️‍♂️", "🏇", "🧘‍♀️", "🧘", "🧘‍♂️", "🏄‍♀️",
                    "🏄", "🏄‍♂️", "🏊‍♀️", "🏊", "🏊‍♂️", "🤽‍♀️", "🤽", "🤽‍♂️", "🚣‍♀️", "🚣",
                    "🚣‍♂️", "🧗‍♀️", "🧗", "🧗‍♂️", "🚵‍♀️", "🚵", "🚵‍♂️", "🚴‍♀️", "🚴", "🚴‍♂️",
                    "🏆", "🥇", "🥈", "🥉", "🏅", "🎖️", "🏵️", "🎗️", "🎫", "🎟️",
                    "🎪", "🤹", "🤹‍♂️", "🤹‍♀️", "🎭", "🩰", "🎨", "🎬", "🎤", "🎧",
                    "🎼", "🎹", "🥁", "🪘", "🎷", "🎺", "🪗", "🎸", "🪕", "🎻",
                    "🎲", "♟️", "🎯", "🎳", "🎮", "🎰", "🧩"
                ]
            },
            "🚗 交通与旅行": {
                icon: "✈️",
                keywords: ["交通", "汽车", "飞机", "旅行", "建筑", "地点", "日本", "中国", "美国", "法国", "英国", "地图", "城市", "国家"],
                emojis: [
                    "🚗", "🚕", "🚙", "🚌", "🚎", "🏎️", "🚓", "🚑", "🚒", "🚐",
                    "🛻", "🚚", "🚛", "🚜", "🦯", "🦽", "🦼", "🛴", "🚲", "🛵",
                    "🏍️", "🛺", "🚨", "🚔", "🚍", "🚘", "🚖", "🚡", "🚠", "🚟",
                    "🚃", "🚋", "🚞", "🚝", "🚄", "🚅", "🚈", "🚂", "🚆", "🚇",
                    "🚊", "🚉", "✈️", "🛫", "🛬", "🛩️", "💺", "🛰️", "🚀", "🛸",
                    "🚁", "🛶", "⛵", "🚤", "🛥️", "🛳️", "⛴️", "🚢", "⚓", "🪝",
                    "⛽", "🚧", "🚦", "🚥", "🚏", "🗺️", "🗿", "🗽", "🗼", "🏰",
                    "🏯", "🏟️", "🎡", "🎢", "🎠", "⛲", "⛱️", "🏖️", "🏝️", "🏜️",
                    "🌋", "⛰️", "🏔️", "🗻", "🏕️", "⛺", "🛖", "🏠", "🏡", "🏘️",
                    "🏚️", "🏗️", "🏭", "🏢", "🏬", "🏣", "🏤", "🏥", "🏦", "🏨",
                    "🏪", "🏫", "🏩", "💒", "🏛️", "⛪", "🕌", "🕍", "🛕", "🕋",
                    "⛩️", "🛤️", "🛣️", "🗾", "🎑", "🏞️", "🌅", "🌄", "🌠", "🎇",
                    "🎆", "🌇", "🌆", "🏙️", "🌃", "🌌", "🌉", "🌁"
                ]
            },
            "💡 物品与工具": {
                icon: "🔧",
                keywords: ["物品", "工具", "电子", "办公", "日常用品"],
                emojis: [
                    "⌚", "📱", "📲", "💻", "⌨️", "🖥️", "🖨️", "🖱️", "🖲️", "🕹️",
                    "🗜️", "💽", "💾", "💿", "📀", "📼", "📷", "📸", "📹", "🎥",
                    "📽️", "🎞️", "📞", "☎️", "📟", "📠", "📺", "📻", "🎙️", "🎚️",
                    "🎛️", "🧭", "⏱️", "⏲️", "⏰", "🕰️", "⌛", "⏳", "📡", "🔋",
                    "🔌", "💡", "🔦", "🕯️", "🪔", "🧯", "🛢️", "💸", "💵", "💴",
                    "💶", "💷", "🪙", "💰", "💳", "💎", "⚖️", "🪜", "🧰", "🪛",
                    "🔧", "🔨", "⚒️", "🛠️", "⛏️", "🪚", "🔩", "⚙️", "🪤", "🧱",
                    "⛓️", "🧲", "🔫", "💣", "🧨", "🪓", "🔪", "🗡️", "⚔️", "🛡️",
                    "🚬", "⚰️", "🪦", "⚱️", "🏺", "🔮", "📿", "🧿", "💈", "⚗️",
                    "🔭", "🔬", "🕳️", "🩹", "🩺", "💊", "💉", "🩸", "🧬", "🦠",
                    "🧫", "🧪", "🌡️", "🧹", "🪠", "🧺", "🧻", "🚽", "🚰", "🚿",
                    "🛁", "🛀", "🧼", "🪥", "🪒", "🧽", "🪣", "🧴", "🛎️", "🔑",
                    "🗝️", "🚪", "🪑", "🛋️", "🛏️", "🛌", "🧸", "🪆", "🖼️", "🪞",
                    "🪟", "🛍️", "🛒", "🎁", "🎈", "🎏", "🎀", "🎊", "🎉", "🎎",
                    "🏮", "🎐", "🧧", "✉️", "📩", "📨", "📧", "💌", "📥", "📤",
                    "📦", "🏷️", "🪧", "📪", "📫", "📬", "📭", "📮", "📯", "📜",
                    "📃", "📄", "📑", "🧾", "📊", "📈", "📉", "🗒️", "🗓️", "📆",
                    "📅", "🗑️", "📇", "🗃️", "🗳️", "🗄️", "📋", "📁", "📂", "🗂️",
                    "🗞️", "📰", "📓", "📔", "📒", "📕", "📗", "📘", "📙", "📚",
                    "📖", "🔖", "🧷", "🔗", "📎", "🖇️", "📐", "📏", "🧮", "📌",
                    "📍", "✂️", "🖊️", "🖋️", "✒️", "🖌️", "🖍️", "📝", "✏️", "🔍",
                    "🔎", "🔏", "🔐", "🔒", "🔓"
                ]
            },
            "🔣 符号与标志": {
                icon: "⚠️",
                keywords: ["符号", "标志", "箭头", "几何", "数字", "星座"],
                emojis: [
                    "❤️", "🧡", "💛", "💚", "💙", "💜", "🖤", "🤍", "🤎", "💔",
                    "❣️", "💕", "💞", "💓", "💗", "💖", "💘", "💝", "💟", "☮️",
                    "✝️", "☪️", "🕉️", "☸️", "✡️", "🔯", "🕎", "☯️", "☦️", "🛐",
                    "⛎", "♈", "♉", "♊", "♋", "♌", "♍", "♎", "♏", "♐",
                    "♑", "♒", "♓", "🆔", "⚛️", "🉑", "☢️", "☣️", "📴", "📳",
                    "🈶", "🈚", "🈸", "🈺", "🈷️", "✴️", "🆚", "💮", "🉐", "㊙️",
                    "㊗️", "🈴", "🈵", "🈹", "🈲", "🅰️", "🅱️", "🆎", "🆑", "🅾️",
                    "🆘", "❌", "⭕", "🛑", "⛔", "📛", "🚫", "💯", "💢", "♨️",
                    "🚷", "🚯", "🚳", "🚱", "🔞", "📵", "🚭", "❗", "❕", "❓",
                    "❔", "‼️", "⁉️", "🔅", "🔆", "〽️", "⚠️", "🚸", "🔱", "⚜️",
                    "🔰", "♻️", "✅", "🈯", "💹", "❇️", "✳️", "❎", "🌐", "💠",
                    "Ⓜ️", "🌀", "💤", "🏧", "🚾", "♿", "🅿️", "🛗", "🈳", "🈂️",
                    "🛂", "🛃", "🛄", "🛅", "🚹", "🚺", "🚼", "⚧️", "🚻", "🚮",
                    "🎦", "📶", "🈁", "🔣", "ℹ️", "🔤", "🔡", "🔠", "🆖", "🆗",
                    "🆙", "🆒", "🆕", "🆓", "0️⃣", "1️⃣", "2️⃣", "3️⃣", "4️⃣", "5️⃣",
                    "6️⃣", "7️⃣", "8️⃣", "9️⃣", "🔟", "🔢", "#️⃣", "*️⃣", "⏏️", "▶️",
                    "⏸️", "⏯️", "⏹️", "⏺️", "⏭️", "⏮️", "⏩", "⏪", "⏫", "⏬",
                    "◀️", "🔼", "🔽", "➡️", "⬅️", "⬆️", "⬇️", "↗️", "↘️", "↙️",
                    "↖️", "↕️", "↔️", "↪️", "↩️", "⤴️", "⤵️", "🔀", "🔁", "🔂",
                    "🔄", "🔃", "🎵", "🎶", "➕", "➖", "➗", "✖️", "♾️", "💲",
                    "💱", "™️", "©️", "®️", "〰️", "➰", "➿", "🔚", "🔙", "🔛",
                    "🔝", "🔜", "✔️", "☑️", "🔘", "🔴", "🟠", "🟡", "🟢", "🔵",
                    "🟣", "⚫", "⚪", "🟤", "🔺", "🔻", "🔸", "🔹", "🔶", "🔷",
                    "🔳", "🔲", "▪️", "▫️", "◾", "◽", "◼️", "◻️", "🟥", "🟧",
                    "🟨", "🟩", "🟦", "🟪", "⬛", "⬜", "🟫", "🔈", "🔇", "🔉",
                    "🔊", "🔔", "🔕", "📣", "📢", "👁️‍🗨️", "💬", "💭", "🗯️", "♠️",
                    "♣️", "♥️", "♦️", "🃏", "🎴", "🀄", "🕐", "🕑", "🕒", "🕓",
                    "🕔", "🕕", "🕖", "🕗", "🕘", "🕙", "🕚", "🕛", "🕜", "🕝",
                    "🕞", "🕟", "🕠", "🕡", "🕢", "🕣", "🕤", "🕥", "🕦", "🕧"
                ]
            },
            "🏴 旗帜": {
                icon: "🚩",
                keywords: ["旗帜", "国旗", "地区", "国家", "中国", "美国", "日本", "英国", "法国", "德国", "韩国", "加拿大", "澳大利亚"],
                emojis: [
                    "🏁", "🚩", "🎌", "🏴", "🏳️", "🏳️‍🌈", "🏳️‍⚧️", "🏴‍☠️", "🇦🇨", "🇦🇩",
                    "🇦🇪", "🇦🇫", "🇦🇬", "🇦🇮", "🇦🇱", "🇦🇲", "🇦🇴", "🇦🇶", "🇦🇷", "🇦🇸",
                    "🇦🇹", "🇦🇺", "🇦🇼", "🇦🇽", "🇦🇿", "🇧🇦", "🇧🇧", "🇧🇩", "🇧🇪", "🇧🇫",
                    "🇧🇬", "🇧🇭", "🇧🇮", "🇧🇯", "🇧🇱", "🇧🇲", "🇧🇳", "🇧🇴", "🇧🇶", "🇧🇷",
                    "🇧🇸", "🇧🇹", "🇧🇻", "🇧🇼", "🇧🇾", "🇧🇿", "🇨🇦", "🇨🇨", "🇨🇩", "🇨🇫",
                    "🇨🇬", "🇨🇭", "🇨🇮", "🇨🇰", "🇨🇱", "🇨🇲", "🇨🇳", "🇨🇴", "🇨🇵", "🇨🇷",
                    "🇨🇺", "🇨🇻", "🇨🇼", "🇨🇽", "🇨🇾", "🇨🇿", "🇩🇪", "🇩🇬", "🇩🇯", "🇩🇰",
                    "🇩🇲", "🇩🇴", "🇩🇿", "🇪🇦", "🇪🇨", "🇪🇪", "🇪🇬", "🇪🇭", "🇪🇷", "🇪🇸",
                    "🇪🇹", "🇪🇺", "🇫🇮", "🇫🇯", "🇫🇰", "🇫🇲", "🇫🇴", "🇫🇷", "🇬🇦", "🇬🇧",
                    "🇬🇩", "🇬🇪", "🇬🇫", "🇬🇬", "🇬🇭", "🇬🇮", "🇬🇱", "🇬🇲", "🇬🇳", "🇬🇵",
                    "🇬🇶", "🇬🇷", "🇬🇸", "🇬🇹", "🇬🇺", "🇬🇼", "🇬🇾", "🇭🇰", "🇭🇲", "🇭🇳",
                    "🇭🇷", "🇭🇹", "🇭🇺", "🇮🇨", "🇮🇩", "🇮🇪", "🇮🇱", "🇮🇲", "🇮🇳", "🇮🇴",
                    "🇮🇶", "🇮🇷", "🇮🇸", "🇮🇹", "🇯🇪", "🇯🇲", "🇯🇴", "🇯🇵", "🇰🇪", "🇰🇬",
                    "🇰🇭", "🇰🇮", "🇰🇲", "🇰🇳", "🇰🇵", "🇰🇷", "🇰🇼", "🇰🇾", "🇰🇿", "🇱🇦",
                    "🇱🇧", "🇱🇨", "🇱🇮", "🇱🇰", "🇱🇷", "🇱🇸", "🇱🇹", "🇱🇺", "🇱🇻", "🇱🇾",
                    "🇲🇦", "🇲🇨", "🇲🇩", "🇲🇪", "🇲🇫", "🇲🇬", "🇲🇭", "🇲🇰", "🇲🇱", "🇲🇲",
                    "🇲🇳", "🇲🇴", "🇲🇵", "🇲🇶", "🇲🇷", "🇲🇸", "🇲🇹", "🇲🇺", "🇲🇻", "🇲🇼",
                    "🇲🇽", "🇲🇾", "🇲🇿", "🇳🇦", "🇳🇨", "🇳🇪", "🇳🇫", "🇳🇬", "🇳🇮", "🇳🇱",
                    "🇳🇴", "🇳🇵", "🇳🇷", "🇳🇺", "🇳🇿", "🇴🇲", "🇵🇦", "🇵🇪", "🇵🇫", "🇵🇬",
                    "🇵🇭", "🇵🇰", "🇵🇱", "🇵🇲", "🇵🇳", "🇵🇷", "🇵🇸", "🇵🇹", "🇵🇼", "🇵🇾",
                    "🇶🇦", "🇷🇪", "🇷🇴", "🇷🇸", "🇷🇺", "🇷🇼", "🇸🇦", "🇸🇧", "🇸🇨", "🇸🇩",
                    "🇸🇪", "🇸🇬", "🇸🇭", "🇸🇮", "🇸🇯", "🇸🇰", "🇸🇱", "🇸🇲", "🇸🇳", "🇸🇴",
                    "🇸🇷", "🇸🇸", "🇸🇹", "🇸🇻", "🇸🇽", "🇸🇾", "🇸🇿", "🇹🇦", "🇹🇨", "🇹🇩",
                    "🇹🇫", "🇹🇬", "🇹🇭", "🇹🇯", "🇹🇰", "🇹🇱", "🇹🇲", "🇹🇳", "🇹🇴", "🇹🇷",
                    "🇹🇹", "🇹🇻", "🇹🇼", "🇹🇿", "🇺🇦", "🇺🇬", "🇺🇲", "🇺🇳", "🇺🇸", "🇺🇾",
                    "🇺🇿", "🇻🇦", "🇻🇨", "🇻🇪", "🇻🇬", "🇻🇮", "🇻🇳", "🇻🇺", "🇼🇫", "🇼🇸",
                    "🇽🇰", "🇾🇪", "🇾🇹", "🇿🇦", "🇿🇲", "🇿🇼", "🏴󠁧󠁢󠁥󠁮󠁧󠁿", "🏴󠁧󠁢󠁳󠁣󠁴󠁿", "🏴󠁧󠁢󠁷󠁬󠁳󠁿"
                ]
            }
        };

        // 当前激活的分类
        let activeCategory = null;

        // Emoji变体映射（肤色、发型、性别等）
        const emojiVariants = {
            // 手势肤色变体
            "👋": ["👋", "👋🏻", "👋🏼", "👋🏽", "👋🏾", "👋🏿"],
            "🤚": ["🤚", "🤚🏻", "🤚🏼", "🤚🏽", "🤚🏾", "🤚🏿"],
            "🖐️": ["🖐️", "🖐🏻", "🖐🏼", "🖐🏽", "🖐🏾", "🖐🏿"],
            "✋": ["✋", "✋🏻", "✋🏼", "✋🏽", "✋🏾", "✋🏿"],
            "🖖": ["🖖", "🖖🏻", "🖖🏼", "🖖🏽", "🖖🏾", "🖖🏿"],
            "👌": ["👌", "👌🏻", "👌🏼", "👌🏽", "👌🏾", "👌🏿"],
            "🤌": ["🤌", "🤌🏻", "🤌🏼", "🤌🏽", "🤌🏾", "🤌🏿"],
            "🤏": ["🤏", "🤏🏻", "🤏🏼", "🤏🏽", "🤏🏾", "🤏🏿"],
            "✌️": ["✌️", "✌🏻", "✌🏼", "✌🏽", "✌🏾", "✌🏿"],
            "🤞": ["🤞", "🤞🏻", "🤞🏼", "🤞🏽", "🤞🏾", "🤞🏿"],
            "🤟": ["🤟", "🤟🏻", "🤟🏼", "🤟🏽", "🤟🏾", "🤟🏿"],
            "🤘": ["🤘", "🤘🏻", "🤘🏼", "🤘🏽", "🤘🏾", "🤘🏿"],
            "🤙": ["🤙", "🤙🏻", "🤙🏼", "🤙🏽", "🤙🏾", "🤙🏿"],
            "👈": ["👈", "👈🏻", "👈🏼", "👈🏽", "👈🏾", "👈🏿"],
            "👉": ["👉", "👉🏻", "👉🏼", "👉🏽", "👉🏾", "👉🏿"],
            "👆": ["👆", "👆🏻", "👆🏼", "👆🏽", "👆🏾", "👆🏿"],
            "🖕": ["🖕", "🖕🏻", "🖕🏼", "🖕🏽", "🖕🏾", "🖕🏿"],
            "👇": ["👇", "👇🏻", "👇🏼", "👇🏽", "👇🏾", "👇🏿"],
            "☝️": ["☝️", "☝🏻", "☝🏼", "☝🏽", "☝🏾", "☝🏿"],
            "👍": ["👍", "👍🏻", "👍🏼", "👍🏽", "👍🏾", "👍🏿"],
            "👎": ["👎", "👎🏻", "👎🏼", "👎🏽", "👎🏾", "👎🏿"],
            "✊": ["✊", "✊🏻", "✊🏼", "✊🏽", "✊🏾", "✊🏿"],
            "👊": ["👊", "👊🏻", "👊🏼", "👊🏽", "👊🏾", "👊🏿"],
            "🤛": ["🤛", "🤛🏻", "🤛🏼", "🤛🏽", "🤛🏾", "🤛🏿"],
            "🤜": ["🤜", "🤜🏻", "🤜🏼", "🤜🏽", "🤜🏾", "🤜🏿"],
            "👏": ["👏", "👏🏻", "👏🏼", "👏🏽", "👏🏾", "👏🏿"],
            "🙌": ["🙌", "🙌🏻", "🙌🏼", "🙌🏽", "🙌🏾", "🙌🏿"],
            "👐": ["👐", "👐🏻", "👐🏼", "👐🏽", "👐🏾", "👐🏿"],
            "🤲": ["🤲", "🤲🏻", "🤲🏼", "🤲🏽", "🤲🏾", "🤲🏿"],
            "🙏": ["🙏", "🙏🏻", "🙏🏼", "🙏🏽", "🙏🏾", "🙏🏿"],
            "✍️": ["✍️", "✍🏻", "✍🏼", "✍🏽", "✍🏾", "✍🏿"],
            "💅": ["💅", "💅🏻", "💅🏼", "💅🏽", "💅🏾", "💅🏿"],
            "🤳": ["🤳", "🤳🏻", "🤳🏼", "🤳🏽", "🤳🏾", "🤳🏿"],
            "💪": ["💪", "💪🏻", "💪🏼", "💪🏽", "💪🏾", "💪🏿"],
            "🦵": ["🦵", "🦵🏻", "🦵🏼", "🦵🏽", "🦵🏾", "🦵🏿"],
            "🦶": ["🦶", "🦶🏻", "🦶🏼", "🦶🏽", "🦶🏾", "🦶🏿"],
            "👂": ["👂", "👂🏻", "👂🏼", "👂🏽", "👂🏾", "👂🏿"],
            "🦻": ["🦻", "🦻🏻", "🦻🏼", "🦻🏽", "🦻🏾", "🦻🏿"],
            "👃": ["👃", "👃🏻", "👃🏼", "👃🏽", "👃🏾", "👃🏿"],
            "👶": ["👶", "👶🏻", "👶🏼", "👶🏽", "👶🏾", "👶🏿"],
            "👧": ["👧", "👧🏻", "👧🏼", "👧🏽", "👧🏾", "👧🏿"],
            "🧒": ["🧒", "🧒🏻", "🧒🏼", "🧒🏽", "🧒🏾", "🧒🏿"],
            "👦": ["👦", "👦🏻", "👦🏼", "👦🏽", "👦🏾", "👦🏿"],
            "👩": ["👩", "👩🏻", "👩🏼", "👩🏽", "👩🏾", "👩🏿"],
            "🧑": ["🧑", "🧑🏻", "🧑🏼", "🧑🏽", "🧑🏾", "🧑🏿"],
            "👨": ["👨", "👨🏻", "👨🏼", "👨🏽", "👨🏾", "👨🏿"],
            "👵": ["👵", "👵🏻", "👵🏼", "👵🏽", "👵🏾", "👵🏿"],
            "🧓": ["🧓", "🧓🏻", "🧓🏼", "🧓🏽", "🧓🏾", "🧓🏿"],
            "👴": ["👴", "👴🏻", "👴🏼", "👴🏽", "👴🏾", "👴🏿"],
            "🙍": ["🙍", "🙍🏻", "🙍🏼", "🙍🏽", "🙍🏾", "🙍🏿"],
            "🙎": ["🙎", "🙎🏻", "🙎🏼", "🙎🏽", "🙎🏾", "🙎🏿"],
            "🙅": ["🙅", "🙅🏻", "🙅🏼", "🙅🏽", "🙅🏾", "🙅🏿"],
            "🙆": ["🙆", "🙆🏻", "🙆🏼", "🙆🏽", "🙆🏾", "🙆🏿"],
            "💁": ["💁", "💁🏻", "💁🏼", "💁🏽", "💁🏾", "💁🏿"],
            "🙋": ["🙋", "🙋🏻", "🙋🏼", "🙋🏽", "🙋🏾", "🙋🏿"],
            "🧏": ["🧏", "🧏🏻", "🧏🏼", "🧏🏽", "🧏🏾", "🧏🏿"],
            "🙇": ["🙇", "🙇🏻", "🙇🏼", "🙇🏽", "🙇🏾", "🙇🏿"],
            "🤦": ["🤦", "🤦🏻", "🤦🏼", "🤦🏽", "🤦🏾", "🤦🏿"],
            "🤷": ["🤷", "🤷🏻", "🤷🏼", "🤷🏽", "🤷🏾", "🤷🏿"],
            "💇": ["💇", "💇🏻", "💇🏼", "💇🏽", "💇🏾", "💇🏿"],
            "💆": ["💆", "💆🏻", "💆🏼", "💆🏽", "💆🏾", "💆🏿"],
            "🧖": ["🧖", "🧖🏻", "🧖🏼", "🧖🏽", "🧖🏾", "🧖🏿"],
            "💃": ["💃", "💃🏻", "💃🏼", "💃🏽", "💃🏾", "💃🏿"],
            "🕺": ["🕺", "🕺🏻", "🕺🏼", "🕺🏽", "🕺🏾", "🕺🏿"],
            "🚶": ["🚶", "🚶🏻", "🚶🏼", "🚶🏽", "🚶🏾", "🚶🏿"],
            "🧍": ["🧍", "🧍🏻", "🧍🏼", "🧍🏽", "🧍🏾", "🧍🏿"],
            "🧎": ["🧎", "🧎🏻", "🧎🏼", "🧎🏽", "🧎🏾", "🧎🏿"],
            "🏃": ["🏃", "🏃🏻", "🏃🏼", "🏃🏽", "🏃🏾", "🏃🏿"],
            "🛀": ["🛀", "🛀🏻", "🛀🏼", "🛀🏽", "🛀🏾", "🛀🏿"],
            "🧘": ["🧘", "🧘🏻", "🧘🏼", "🧘🏽", "🧘🏾", "🧘🏿"],
            "🤱": ["🤱", "🤱🏻", "🤱🏼", "🤱🏽", "🤱🏾", "🤱🏿"],
            "🤰": ["🤰", "🤰🏻", "🤰🏼", "🤰🏽", "🤰🏾", "🤰🏿"],
            
            // 职业人物的性别+肤色变体
            "👮": ["👮", "👮‍♀️", "👮‍♂️", "👮🏻", "👮🏻‍♀️", "👮🏻‍♂️", "👮🏼", "👮🏼‍♀️", "👮🏼‍♂️", "👮🏽", "👮🏽‍♀️", "👮🏽‍♂️", "👮🏾", "👮🏾‍♀️", "👮🏾‍♂️", "👮🏿", "👮🏿‍♀️", "👮🏿‍♂️"],
            "👷": ["👷", "👷‍♀️", "👷‍♂️", "👷🏻", "👷🏻‍♀️", "👷🏻‍♂️", "👷🏼", "👷🏼‍♀️", "👷🏼‍♂️", "👷🏽", "👷🏽‍♀️", "👷🏽‍♂️", "👷🏾", "👷🏾‍♀️", "👷🏾‍♂️", "👷🏿", "👷🏿‍♀️", "👷🏿‍♂️"],
            "💂": ["💂", "💂‍♀️", "💂‍♂️", "💂🏻", "💂🏻‍♀️", "💂🏻‍♂️", "💂🏼", "💂🏼‍♀️", "💂🏼‍♂️", "💂🏽", "💂🏽‍♀️", "💂🏽‍♂️", "💂🏾", "💂🏾‍♀️", "💂🏾‍♂️", "💂🏿", "💂🏿‍♀️", "💂🏿‍♂️"],
            "🕵️": ["🕵️", "🕵️‍♀️", "🕵️‍♂️", "🕵🏻", "🕵🏻‍♀️", "🕵🏻‍♂️", "🕵🏼", "🕵🏼‍♀️", "🕵🏼‍♂️", "🕵🏽", "🕵🏽‍♀️", "🕵🏽‍♂️", "🕵🏾", "🕵🏾‍♀️", "🕵🏾‍♂️", "🕵🏿", "🕵🏿‍♀️", "🕵🏿‍♂️"],
            "👨‍⚕️": ["👨‍⚕️", "👩‍⚕️", "🧑‍⚕️", "👨🏻‍⚕️", "👩🏻‍⚕️", "🧑🏻‍⚕️", "👨🏼‍⚕️", "👩🏼‍⚕️", "🧑🏼‍⚕️", "👨🏽‍⚕️", "👩🏽‍⚕️", "🧑🏽‍⚕️", "👨🏾‍⚕️", "👩🏾‍⚕️", "🧑🏾‍⚕️", "👨🏿‍⚕️", "👩🏿‍⚕️", "🧑🏿‍⚕️"],
            "👨‍🌾": ["👨‍🌾", "👩‍🌾", "🧑‍🌾", "👨🏻‍🌾", "👩🏻‍🌾", "🧑🏻‍🌾", "👨🏼‍🌾", "👩🏼‍🌾", "🧑🏼‍🌾", "👨🏽‍🌾", "👩🏽‍🌾", "🧑🏽‍🌾", "👨🏾‍🌾", "👩🏾‍🌾", "🧑🏾‍🌾", "👨🏿‍🌾", "👩🏿‍🌾", "🧑🏿‍🌾"],
            "👨‍🍳": ["👨‍🍳", "👩‍🍳", "🧑‍🍳", "👨🏻‍🍳", "👩🏻‍🍳", "🧑🏻‍🍳", "👨🏼‍🍳", "👩🏼‍🍳", "🧑🏼‍🍳", "👨🏽‍🍳", "👩🏽‍🍳", "🧑🏽‍🍳", "👨🏾‍🍳", "👩🏾‍🍳", "🧑🏾‍🍳", "👨🏿‍🍳", "👩🏿‍🍳", "🧑🏿‍🍳"],
            "👨‍🎓": ["👨‍🎓", "👩‍🎓", "🧑‍🎓", "👨🏻‍🎓", "👩🏻‍🎓", "🧑🏻‍🎓", "👨🏼‍🎓", "👩🏼‍🎓", "🧑🏼‍🎓", "👨🏽‍🎓", "👩🏽‍🎓", "🧑🏽‍🎓", "👨🏾‍🎓", "👩🏾‍🎓", "🧑🏾‍🎓", "👨🏿‍🎓", "👩🏿‍🎓", "🧑🏿‍🎓"],
            "👨‍🎤": ["👨‍🎤", "👩‍🎤", "🧑‍🎤", "👨🏻‍🎤", "👩🏻‍🎤", "🧑🏻‍🎤", "👨🏼‍🎤", "👩🏼‍🎤", "🧑🏼‍🎤", "👨🏽‍🎤", "👩🏽‍🎤", "🧑🏽‍🎤", "👨🏾‍🎤", "👩🏾‍🎤", "🧑🏾‍🎤", "👨🏿‍🎤", "👩🏿‍🎤", "🧑🏿‍🎤"],
            "👨‍🏫": ["👨‍🏫", "👩‍🏫", "🧑‍🏫", "👨🏻‍🏫", "👩🏻‍🏫", "🧑🏻‍🏫", "👨🏼‍🏫", "👩🏼‍🏫", "🧑🏼‍🏫", "👨🏽‍🏫", "👩🏽‍🏫", "🧑🏽‍🏫", "👨🏾‍🏫", "👩🏾‍🏫", "🧑🏾‍🏫", "👨🏿‍🏫", "👩🏿‍🏫", "🧑🏿‍🏫"],
            "👨‍🏭": ["👨‍🏭", "👩‍🏭", "🧑‍🏭", "👨🏻‍🏭", "👩🏻‍🏭", "🧑🏻‍🏭", "👨🏼‍🏭", "👩🏼‍🏭", "🧑🏼‍🏭", "👨🏽‍🏭", "👩🏽‍🏭", "🧑🏽‍🏭", "👨🏾‍🏭", "👩🏾‍🏭", "🧑🏾‍🏭", "👨🏿‍🏭", "👩🏿‍🏭", "🧑🏿‍🏭"],
            "👨‍💻": ["👨‍💻", "👩‍💻", "🧑‍💻", "👨🏻‍💻", "👩🏻‍💻", "🧑🏻‍💻", "👨🏼‍💻", "👩🏼‍💻", "🧑🏼‍💻", "👨🏽‍💻", "👩🏽‍💻", "🧑🏽‍💻", "👨🏾‍💻", "👩🏾‍💻", "🧑🏾‍💻", "👨🏿‍💻", "👩🏿‍💻", "🧑🏿‍💻"],
            "👨‍💼": ["👨‍💼", "👩‍💼", "🧑‍💼", "👨🏻‍💼", "👩🏻‍💼", "🧑🏻‍💼", "👨🏼‍💼", "👩🏼‍💼", "🧑🏼‍💼", "👨🏽‍💼", "👩🏽‍💼", "🧑🏽‍💼", "👨🏾‍💼", "👩🏾‍💼", "🧑🏾‍💼", "👨🏿‍💼", "👩🏿‍💼", "🧑🏿‍💼"],
            "👨‍🔧": ["👨‍🔧", "👩‍🔧", "🧑‍🔧", "👨🏻‍🔧", "👩🏻‍🔧", "🧑🏻‍🔧", "👨🏼‍🔧", "👩🏼‍🔧", "🧑🏼‍🔧", "👨🏽‍🔧", "👩🏽‍🔧", "🧑🏽‍🔧", "👨🏾‍🔧", "👩🏾‍🔧", "🧑🏾‍🔧", "👨🏿‍🔧", "👩🏿‍🔧", "🧑🏿‍🔧"],
            "👨‍🔬": ["👨‍🔬", "👩‍🔬", "🧑‍🔬", "👨🏻‍🔬", "👩🏻‍🔬", "🧑🏻‍🔬", "👨🏼‍🔬", "👩🏼‍🔬", "🧑🏼‍🔬", "👨🏽‍🔬", "👩🏽‍🔬", "🧑🏽‍🔬", "👨🏾‍🔬", "👩🏾‍🔬", "🧑🏾‍🔬", "👨🏿‍🔬", "👩🏿‍🔬", "🧑🏿‍🔬"],
            "👨‍🎨": ["👨‍🎨", "👩‍🎨", "🧑‍🎨", "👨🏻‍🎨", "👩🏻‍🎨", "🧑🏻‍🎨", "👨🏼‍🎨", "👩🏼‍🎨", "🧑🏼‍🎨", "👨🏽‍🎨", "👩🏽‍🎨", "🧑🏽‍🎨", "👨🏾‍🎨", "👩🏾‍🎨", "🧑🏾‍🎨", "👨🏿‍🎨", "👩🏿‍🎨", "🧑🏿‍🎨"],
            "👨‍🚒": ["👨‍🚒", "👩‍🚒", "🧑‍🚒", "👨🏻‍🚒", "👩🏻‍🚒", "🧑🏻‍🚒", "👨🏼‍🚒", "👩🏼‍🚒", "🧑🏼‍🚒", "👨🏽‍🚒", "👩🏽‍🚒", "🧑🏽‍🚒", "👨🏾‍🚒", "👩🏾‍🚒", "🧑🏾‍🚒", "👨🏿‍🚒", "👩🏿‍🚒", "🧑🏿‍🚒"],
            "👨‍✈️": ["👨‍✈️", "👩‍✈️", "🧑‍✈️", "👨🏻‍✈️", "👩🏻‍✈️", "🧑🏻‍✈️", "👨🏼‍✈️", "👩🏼‍✈️", "🧑🏼‍✈️", "👨🏽‍✈️", "👩🏽‍✈️", "🧑🏽‍✈️", "👨🏾‍✈️", "👩🏾‍✈️", "🧑🏾‍✈️", "👨🏿‍✈️", "👩🏿‍✈️", "🧑🏿‍✈️"],
            "👨‍🚀": ["👨‍🚀", "👩‍🚀", "🧑‍🚀", "👨🏻‍🚀", "👩🏻‍🚀", "🧑🏻‍🚀", "👨🏼‍🚀", "👩🏼‍🚀", "🧑🏼‍🚀", "👨🏽‍🚀", "👩🏽‍🚀", "🧑🏽‍🚀", "👨🏾‍🚀", "👩🏾‍🚀", "🧑🏾‍🚀", "👨🏿‍🚀", "👩🏿‍🚀", "🧑🏿‍🚀"],
            "👨‍⚖️": ["👨‍⚖️", "👩‍⚖️", "🧑‍⚖️", "👨🏻‍⚖️", "👩🏻‍⚖️", "🧑🏻‍⚖️", "👨🏼‍⚖️", "👩🏼‍⚖️", "🧑🏼‍⚖️", "👨🏽‍⚖️", "👩🏽‍⚖️", "🧑🏽‍⚖️", "👨🏾‍⚖️", "👩🏾‍⚖️", "🧑🏾‍⚖️", "👨🏿‍⚖️", "👩🏿‍⚖️", "🧑🏿‍⚖️"],
            "👰": ["👰", "👰‍♀️", "👰‍♂️", "👰🏻", "👰🏻‍♀️", "👰🏻‍♂️", "👰🏼", "👰🏼‍♀️", "👰🏼‍♂️", "👰🏽", "👰🏽‍♀️", "👰🏽‍♂️", "👰🏾", "👰🏾‍♀️", "👰🏾‍♂️", "👰🏿", "👰🏿‍♀️", "👰🏿‍♂️"],
            "🤵": ["🤵", "🤵‍♀️", "🤵‍♂️", "🤵🏻", "🤵🏻‍♀️", "🤵🏻‍♂️", "🤵🏼", "🤵🏼‍♀️", "🤵🏼‍♂️", "🤵🏽", "🤵🏽‍♀️", "🤵🏽‍♂️", "🤵🏾", "🤵🏾‍♀️", "🤵🏾‍♂️", "🤵🏿", "🤵🏿‍♀️", "🤵🏿‍♂️"],
            
            // 运动和活动的性别+肤色变体
            "🏋️": ["🏋️", "🏋️‍♀️", "🏋️‍♂️", "🏋🏻", "🏋🏻‍♀️", "🏋🏻‍♂️", "🏋🏼", "🏋🏼‍♀️", "🏋🏼‍♂️", "🏋🏽", "🏋🏽‍♀️", "🏋🏽‍♂️", "🏋🏾", "🏋🏾‍♀️", "🏋🏾‍♂️", "🏋🏿", "🏋🏿‍♀️", "🏋🏿‍♂️"],
            "🤸": ["🤸", "🤸‍♀️", "🤸‍♂️", "🤸🏻", "🤸🏻‍♀️", "🤸🏻‍♂️", "🤸🏼", "🤸🏼‍♀️", "🤸🏼‍♂️", "🤸🏽", "🤸🏽‍♀️", "🤸🏽‍♂️", "🤸🏾", "🤸🏾‍♀️", "🤸🏾‍♂️", "🤸🏿", "🤸🏿‍♀️", "🤸🏿‍♂️"],
            "⛹️": ["⛹️", "⛹️‍♀️", "⛹️‍♂️", "⛹🏻", "⛹🏻‍♀️", "⛹🏻‍♂️", "⛹🏼", "⛹🏼‍♀️", "⛹🏼‍♂️", "⛹🏽", "⛹🏽‍♀️", "⛹🏽‍♂️", "⛹🏾", "⛹🏾‍♀️", "⛹🏾‍♂️", "⛹🏿", "⛹🏿‍♀️", "⛹🏿‍♂️"],
            "🏄": ["🏄", "🏄‍♀️", "🏄‍♂️", "🏄🏻", "🏄🏻‍♀️", "🏄🏻‍♂️", "🏄🏼", "🏄🏼‍♀️", "🏄🏼‍♂️", "🏄🏽", "🏄🏽‍♀️", "🏄🏽‍♂️", "🏄🏾", "🏄🏾‍♀️", "🏄🏾‍♂️", "🏄🏿", "🏄🏿‍♀️", "🏄🏿‍♂️"],
            "🏊": ["🏊", "🏊‍♀️", "🏊‍♂️", "🏊🏻", "🏊🏻‍♀️", "🏊🏻‍♂️", "🏊🏼", "🏊🏼‍♀️", "🏊🏼‍♂️", "🏊🏽", "🏊🏽‍♀️", "🏊🏽‍♂️", "🏊🏾", "🏊🏾‍♀️", "🏊🏾‍♂️", "🏊🏿", "🏊🏿‍♀️", "🏊🏿‍♂️"],
            "🚣": ["🚣", "🚣‍♀️", "🚣‍♂️", "🚣🏻", "🚣🏻‍♀️", "🚣🏻‍♂️", "🚣🏼", "🚣🏼‍♀️", "🚣🏼‍♂️", "🚣🏽", "🚣🏽‍♀️", "🚣🏽‍♂️", "🚣🏾", "🚣🏾‍♀️", "🚣🏾‍♂️", "🚣🏿", "🚣🏿‍♀️", "🚣🏿‍♂️"],
            "🧗": ["🧗", "🧗‍♀️", "🧗‍♂️", "🧗🏻", "🧗🏻‍♀️", "🧗🏻‍♂️", "🧗🏼", "🧗🏼‍♀️", "🧗🏼‍♂️", "🧗🏽", "🧗🏽‍♀️", "🧗🏽‍♂️", "🧗🏾", "🧗🏾‍♀️", "🧗🏾‍♂️", "🧗🏿", "🧗🏿‍♀️", "🧗🏿‍♂️"],
            "🚴": ["🚴", "🚴‍♀️", "🚴‍♂️", "🚴🏻", "🚴🏻‍♀️", "🚴🏻‍♂️", "🚴🏼", "🚴🏼‍♀️", "🚴🏼‍♂️", "🚴🏽", "🚴🏽‍♀️", "🚴🏽‍♂️", "🚴🏾", "🚴🏾‍♀️", "🚴🏾‍♂️", "🚴🏿", "🚴🏿‍♀️", "🚴🏿‍♂️"],
            "🚵": ["🚵", "🚵‍♀️", "🚵‍♂️", "🚵🏻", "🚵🏻‍♀️", "🚵🏻‍♂️", "🚵🏼", "🚵🏼‍♀️", "🚵🏼‍♂️", "🚵🏽", "🚵🏽‍♀️", "🚵🏽‍♂️", "🚵🏾", "🚵🏾‍♀️", "🚵🏾‍♂️", "🚵🏿", "🚵🏿‍♀️", "🚵🏿‍♂️"],
            "🏇": ["🏇", "🏇🏻", "🏇🏼", "🏇🏽", "🏇🏾", "🏇🏿"],
            
            // 幻想和特殊角色的性别+肤色变体
            "🧙": ["🧙", "🧙‍♀️", "🧙‍♂️", "🧙🏻", "🧙🏻‍♀️", "🧙🏻‍♂️", "🧙🏼", "🧙🏼‍♀️", "🧙🏼‍♂️", "🧙🏽", "🧙🏽‍♀️", "🧙🏽‍♂️", "🧙🏾", "🧙🏾‍♀️", "🧙🏾‍♂️", "🧙🏿", "🧙🏿‍♀️", "🧙🏿‍♂️"],
            "🧚": ["🧚", "🧚‍♀️", "🧚‍♂️", "🧚🏻", "🧚🏻‍♀️", "🧚🏻‍♂️", "🧚🏼", "🧚🏼‍♀️", "🧚🏼‍♂️", "🧚🏽", "🧚🏽‍♀️", "🧚🏽‍♂️", "🧚🏾", "🧚🏾‍♀️", "🧚🏾‍♂️", "🧚🏿", "🧚🏿‍♀️", "🧚🏿‍♂️"],
            "🧛": ["🧛", "🧛‍♀️", "🧛‍♂️", "🧛🏻", "🧛🏻‍♀️", "🧛🏻‍♂️", "🧛🏼", "🧛🏼‍♀️", "🧛🏼‍♂️", "🧛🏽", "🧛🏽‍♀️", "🧛🏽‍♂️", "🧛🏾", "🧛🏾‍♀️", "🧛🏾‍♂️", "🧛🏿", "🧛🏿‍♀️", "🧛🏿‍♂️"],
            "🧜": ["🧜", "🧜‍♀️", "🧜‍♂️", "🧜🏻", "🧜🏻‍♀️", "🧜🏻‍♂️", "🧜🏼", "🧜🏼‍♀️", "🧜🏼‍♂️", "🧜🏽", "🧜🏽‍♀️", "🧜🏽‍♂️", "🧜🏾", "🧜🏾‍♀️", "🧜🏾‍♂️", "🧜🏿", "🧜🏿‍♀️", "🧜🏿‍♂️"],
            "🧝": ["🧝", "🧝‍♀️", "🧝‍♂️", "🧝🏻", "🧝🏻‍♀️", "🧝🏻‍♂️", "🧝🏼", "🧝🏼‍♀️", "🧝🏼‍♂️", "🧝🏽", "🧝🏽‍♀️", "🧝🏽‍♂️", "🧝🏾", "🧝🏾‍♀️", "🧝🏾‍♂️", "🧝🏿", "🧝🏿‍♀️", "🧝🏿‍♂️"],
            "🧞": ["🧞", "🧞‍♀️", "🧞‍♂️"],
            "🧟": ["🧟", "🧟‍♀️", "🧟‍♂️"],
            
            // 动作和姿势的性别+肤色变体
            "💆": ["💆", "💆‍♀️", "💆‍♂️", "💆🏻", "💆🏻‍♀️", "💆🏻‍♂️", "💆🏼", "💆🏼‍♀️", "💆🏼‍♂️", "💆🏽", "💆🏽‍♀️", "💆🏽‍♂️", "💆🏾", "💆🏾‍♀️", "💆🏾‍♂️", "💆🏿", "💆🏿‍♀️", "💆🏿‍♂️"],
            "💇": ["💇", "💇‍♀️", "💇‍♂️", "💇🏻", "💇🏻‍♀️", "💇🏻‍♂️", "💇🏼", "💇🏼‍♀️", "💇🏼‍♂️", "💇🏽", "💇🏽‍♀️", "💇🏽‍♂️", "💇🏾", "💇🏾‍♀️", "💇🏾‍♂️", "💇🏿", "💇🏿‍♀️", "💇🏿‍♂️"],
            "🚶": ["🚶", "🚶‍♀️", "🚶‍♂️", "🚶🏻", "🚶🏻‍♀️", "🚶🏻‍♂️", "🚶🏼", "🚶🏼‍♀️", "🚶🏼‍♂️", "🚶🏽", "🚶🏽‍♀️", "🚶🏽‍♂️", "🚶🏾", "🚶🏾‍♀️", "🚶🏾‍♂️", "🚶🏿", "🚶🏿‍♀️", "🚶🏿‍♂️"],
            "🧍": ["🧍", "🧍‍♀️", "🧍‍♂️", "🧍🏻", "🧍🏻‍♀️", "🧍🏻‍♂️", "🧍🏼", "🧍🏼‍♀️", "🧍🏼‍♂️", "🧍🏽", "🧍🏽‍♀️", "🧍🏽‍♂️", "🧍🏾", "🧍🏾‍♀️", "🧍🏾‍♂️", "🧍🏿", "🧍🏿‍♀️", "🧍🏿‍♂️"],
            "🧎": ["🧎", "🧎‍♀️", "🧎‍♂️", "🧎🏻", "🧎🏻‍♀️", "🧎🏻‍♂️", "🧎🏼", "🧎🏼‍♀️", "🧎🏼‍♂️", "🧎🏽", "🧎🏽‍♀️", "🧎🏽‍♂️", "🧎🏾", "🧎🏾‍♀️", "🧎🏾‍♂️", "🧎🏿", "🧎🏿‍♀️", "🧎🏿‍♂️"],
            "🏃": ["🏃", "🏃‍♀️", "🏃‍♂️", "🏃🏻", "🏃🏻‍♀️", "🏃🏻‍♂️", "🏃🏼", "🏃🏼‍♀️", "🏃🏼‍♂️", "🏃🏽", "🏃🏽‍♀️", "🏃🏽‍♂️", "🏃🏾", "🏃🏾‍♀️", "🏃🏾‍♂️", "🏃🏿", "🏃🏿‍♀️", "🏃🏿‍♂️"],
            "🧘": ["🧘", "🧘‍♀️", "🧘‍♂️", "🧘🏻", "🧘🏻‍♀️", "🧘🏻‍♂️", "🧘🏼", "🧘🏼‍♀️", "🧘🏼‍♂️", "🧘🏽", "🧘🏽‍♀️", "🧘🏽‍♂️", "🧘🏾", "🧘🏾‍♀️", "🧘🏾‍♂️", "🧘🏿", "🧘🏿‍♀️", "🧘🏿‍♂️"],
            "🙇": ["🙇", "🙇‍♀️", "🙇‍♂️", "🙇🏻", "🙇🏻‍♀️", "🙇🏻‍♂️", "🙇🏼", "🙇🏼‍♀️", "🙇🏼‍♂️", "🙇🏽", "🙇🏽‍♀️", "🙇🏽‍♂️", "🙇🏾", "🙇🏾‍♀️", "🙇🏾‍♂️", "🙇🏿", "🙇🏿‍♀️", "🙇🏿‍♂️"],
            "🤦": ["🤦", "🤦‍♀️", "🤦‍♂️", "🤦🏻", "🤦🏻‍♀️", "🤦🏻‍♂️", "🤦🏼", "🤦🏼‍♀️", "🤦🏼‍♂️", "🤦🏽", "🤦🏽‍♀️", "🤦🏽‍♂️", "🤦🏾", "🤦🏾‍♀️", "🤦🏾‍♂️", "🤦🏿", "🤦🏿‍♀️", "🤦🏿‍♂️"],
            "🤷": ["🤷", "🤷‍♀️", "🤷‍♂️", "🤷🏻", "🤷🏻‍♀️", "🤷🏻‍♂️", "🤷🏼", "🤷🏼‍♀️", "🤷🏼‍♂️", "🤷🏽", "🤷🏽‍♀️", "🤷🏽‍♂️", "🤷🏾", "🤷🏾‍♀️", "🤷🏾‍♂️", "🤷🏿", "🤷🏿‍♀️", "🤷🏿‍♂️"],
            "🙋": ["🙋", "🙋‍♀️", "🙋‍♂️", "🙋🏻", "🙋🏻‍♀️", "🙋🏻‍♂️", "🙋🏼", "🙋🏼‍♀️", "🙋🏼‍♂️", "🙋🏽", "🙋🏽‍♀️", "🙋🏽‍♂️", "🙋🏾", "🙋🏾‍♀️", "🙋🏾‍♂️", "🙋🏿", "🙋🏿‍♀️", "🙋🏿‍♂️"],
            "🙅": ["🙅", "🙅‍♀️", "🙅‍♂️", "🙅🏻", "🙅🏻‍♀️", "🙅🏻‍♂️", "🙅🏼", "🙅🏼‍♀️", "🙅🏼‍♂️", "🙅🏽", "🙅🏽‍♀️", "🙅🏽‍♂️", "🙅🏾", "🙅🏾‍♀️", "🙅🏾‍♂️", "🙅🏿", "🙅🏿‍♀️", "🙅🏿‍♂️"],
            "🙆": ["🙆", "🙆‍♀️", "🙆‍♂️", "🙆🏻", "🙆🏻‍♀️", "🙆🏻‍♂️", "🙆🏼", "🙆🏼‍♀️", "🙆🏼‍♂️", "🙆🏽", "🙆🏽‍♀️", "🙆🏽‍♂️", "🙆🏾", "🙆🏾‍♀️", "🙆🏾‍♂️", "🙆🏿", "🙆🏿‍♀️", "🙆🏿‍♂️"],
            "💁": ["💁", "💁‍♀️", "💁‍♂️", "💁🏻", "💁🏻‍♀️", "💁🏻‍♂️", "💁🏼", "💁🏼‍♀️", "💁🏼‍♂️", "💁🏽", "💁🏽‍♀️", "💁🏽‍♂️", "💁🏾", "💁🏾‍♀️", "💁🏾‍♂️", "💁🏿", "💁🏿‍♀️", "💁🏿‍♂️"],
            "🙎": ["🙎", "🙎‍♀️", "🙎‍♂️", "🙎🏻", "🙎🏻‍♀️", "🙎🏻‍♂️", "🙎🏼", "🙎🏼‍♀️", "🙎🏼‍♂️", "🙎🏽", "🙎🏽‍♀️", "🙎🏽‍♂️", "🙎🏾", "🙎🏾‍♀️", "🙎🏾‍♂️", "🙎🏿", "🙎🏿‍♀️", "🙎🏿‍♂️"],
            "🙍": ["🙍", "🙍‍♀️", "🙍‍♂️", "🙍🏻", "🙍🏻‍♀️", "🙍🏻‍♂️", "🙍🏼", "🙍🏼‍♀️", "🙍🏼‍♂️", "🙍🏽", "🙍🏽‍♀️", "🙍🏽‍♂️", "🙍🏾", "🙍🏾‍♀️", "🙍🏾‍♂️", "🙍🏿", "🙍🏿‍♀️", "🙍🏿‍♂️"],
            
            // 家庭组合
            "👨‍👩‍👧": ["👨‍👩‍👧", "👨‍👩‍👧‍👦", "👨‍👩‍👦‍👦", "👨‍👩‍👧‍👧", "👨‍👨‍👦", "👨‍👨‍👧", "👨‍👨‍👧‍👦", "👨‍👨‍👦‍👦", "👨‍👨‍👧‍👧", "👩‍👩‍👦", "👩‍👩‍👧", "👩‍👩‍👧‍👦", "👩‍👩‍👦‍👦", "👩‍👩‍👧‍👧", "👨‍👦", "👨‍👦‍👦", "👨‍👧", "👨‍👧‍👦", "👨‍👧‍👧", "👩‍👦", "👩‍👦‍👦", "👩‍👧", "👩‍👧‍👦", "👩‍👧‍👧"],
            
            // 情侣组合
            "👫": ["👫", "👬", "👭", "🧑‍🤝‍🧑"],
            "💏": ["💏", "👨‍❤️‍💋‍👨", "👩‍❤️‍💋‍👩", "🧑‍❤️‍💋‍🧑"],
            "💑": ["💑", "👨‍❤️‍👨", "👩‍❤️‍👩", "🧑‍❤️‍🧑"],
        };

        // 国旗emoji到国家名称的映射
        const flagNames = {
            "🇦🇨": "阿森松岛", "🇦🇩": "安道尔", "🇦🇪": "阿联酋", "🇦🇫": "阿富汗", "🇦🇬": "安提瓜和巴布达",
            "🇦🇮": "安圭拉", "🇦🇱": "阿尔巴尼亚", "🇦🇲": "亚美尼亚", "🇦🇴": "安哥拉", "🇦🇶": "南极洲",
            "🇦🇷": "阿根廷", "🇦🇸": "美属萨摩亚", "🇦🇹": "奥地利", "🇦🇺": "澳大利亚", "🇦🇼": "阿鲁巴",
            "🇦🇽": "奥兰群岛", "🇦🇿": "阿塞拜疆", "🇧🇦": "波黑", "🇧🇧": "巴巴多斯", "🇧🇩": "孟加拉国",
            "🇧🇪": "比利时", "🇧🇫": "布基纳法索", "🇧🇬": "保加利亚", "🇧🇭": "巴林", "🇧🇮": "布隆迪",
            "🇧🇯": "贝宁", "🇧🇱": "圣巴泰勒米", "🇧🇲": "百慕大", "🇧🇳": "文莱", "🇧🇴": "玻利维亚",
            "🇧🇶": "荷属加勒比", "🇧🇷": "巴西", "🇧🇸": "巴哈马", "🇧🇹": "不丹", "🇧🇻": "布韦岛",
            "🇧🇼": "博茨瓦纳", "🇧🇾": "白俄罗斯", "🇧🇿": "伯利兹", "🇨🇦": "加拿大", "🇨🇨": "科科斯群岛",
            "🇨🇩": "刚果(金)", "🇨🇫": "中非", "🇨🇬": "刚果(布)", "🇨🇭": "瑞士", "🇨🇮": "科特迪瓦",
            "🇨🇰": "库克群岛", "🇨🇱": "智利", "🇨🇲": "喀麦隆", "🇨🇳": "中国", "🇨🇴": "哥伦比亚",
            "🇨🇵": "克利珀顿岛", "🇨🇷": "哥斯达黎加", "🇨🇺": "古巴", "🇨🇻": "佛得角", "🇨🇼": "库拉索",
            "🇨🇽": "圣诞岛", "🇨🇾": "塞浦路斯", "🇨🇿": "捷克", "🇩🇪": "德国", "🇩🇬": "迪戈加西亚",
            "🇩🇯": "吉布提", "🇩🇰": "丹麦", "🇩🇲": "多米尼克", "🇩🇴": "多米尼加", "🇩🇿": "阿尔及利亚",
            "🇪🇦": "休达梅利利亚", "🇪🇨": "厄瓜多尔", "🇪🇪": "爱沙尼亚", "🇪🇬": "埃及", "🇪🇭": "西撒哈拉",
            "🇪🇷": "厄立特里亚", "🇪🇸": "西班牙", "🇪🇹": "埃塞俄比亚", "🇪🇺": "欧盟", "🇫🇮": "芬兰",
            "🇫🇯": "斐济", "🇫🇰": "福克兰群岛", "🇫🇲": "密克罗尼西亚", "🇫🇴": "法罗群岛", "🇫🇷": "法国",
            "🇬🇦": "加蓬", "🇬🇧": "英国", "🇬🇩": "格林纳达", "🇬🇪": "格鲁吉亚", "🇬🇫": "法属圭亚那",
            "🇬🇬": "根西岛", "🇬🇭": "加纳", "🇬🇮": "直布罗陀", "🇬🇱": "格陵兰", "🇬🇲": "冈比亚",
            "🇬🇳": "几内亚", "🇬🇵": "瓜德罗普", "🇬🇶": "赤道几内亚", "🇬🇷": "希腊", "🇬🇸": "南乔治亚",
            "🇬🇹": "危地马拉", "🇬🇺": "关岛", "🇬🇼": "几内亚比绍", "🇬🇾": "圭亚那", "🇭🇰": "香港",
            "🇭🇲": "赫德麦岛", "🇭🇳": "洪都拉斯", "🇭🇷": "克罗地亚", "🇭🇹": "海地", "🇭🇺": "匈牙利",
            "🇮🇨": "加那利群岛", "🇮🇩": "印尼", "🇮🇪": "爱尔兰", "🇮🇱": "以色列", "🇮🇲": "马恩岛",
            "🇮🇳": "印度", "🇮🇴": "英属印度洋", "🇮🇶": "伊拉克", "🇮🇷": "伊朗", "🇮🇸": "冰岛",
            "🇮🇹": "意大利", "🇯🇪": "泽西岛", "🇯🇲": "牙买加", "🇯🇴": "约旦", "🇯🇵": "日本",
            "🇰🇪": "肯尼亚", "🇰🇬": "吉尔吉斯斯坦", "🇰🇭": "柬埔寨", "🇰🇮": "基里巴斯", "🇰🇲": "科摩罗",
            "🇰🇳": "圣基茨尼维斯", "🇰🇵": "朝鲜", "🇰🇷": "韩国", "🇰🇼": "科威特", "🇰🇾": "开曼群岛",
            "🇰🇿": "哈萨克斯坦", "🇱🇦": "老挝", "🇱🇧": "黎巴嫩", "🇱🇨": "圣卢西亚", "🇱🇮": "列支敦士登",
            "🇱🇰": "斯里兰卡", "🇱🇷": "利比里亚", "🇱🇸": "莱索托", "🇱🇹": "立陶宛", "🇱🇺": "卢森堡",
            "🇱🇻": "拉脱维亚", "🇱🇾": "利比亚", "🇲🇦": "摩洛哥", "🇲🇨": "摩纳哥", "🇲🇩": "摩尔多瓦",
            "🇲🇪": "黑山", "🇲🇫": "法属圣马丁", "🇲🇬": "马达加斯加", "🇲🇭": "马绍尔群岛", "🇲🇰": "北马其顿",
            "🇲🇱": "马里", "🇲🇲": "缅甸", "🇲🇳": "蒙古", "🇲🇴": "澳门", "🇲🇵": "北马里亚纳",
            "🇲🇶": "马提尼克", "🇲🇷": "毛里塔尼亚", "🇲🇸": "蒙特塞拉特", "🇲🇹": "马耳他", "🇲🇺": "毛里求斯",
            "🇲🇻": "马尔代夫", "🇲🇼": "马拉维", "🇲🇽": "墨西哥", "🇲🇾": "马来西亚", "🇲🇿": "莫桑比克",
            "🇳🇦": "纳米比亚", "🇳🇨": "新喀里多尼亚", "🇳🇪": "尼日尔", "🇳🇫": "诺福克岛", "🇳🇬": "尼日利亚",
            "🇳🇮": "尼加拉瓜", "🇳🇱": "荷兰", "🇳🇴": "挪威", "🇳🇵": "尼泊尔", "🇳🇷": "瑙鲁",
            "🇳🇺": "纽埃", "🇳🇿": "新西兰", "🇴🇲": "阿曼", "🇵🇦": "巴拿马", "🇵🇪": "秘鲁",
            "🇵🇫": "法属波利尼西亚", "🇵🇬": "巴布亚新几内亚", "🇵🇭": "菲律宾", "🇵🇰": "巴基斯坦", "🇵🇱": "波兰",
            "🇵🇲": "圣皮埃尔", "🇵🇳": "皮特凯恩", "🇵🇷": "波多黎各", "🇵🇸": "巴勒斯坦", "🇵🇹": "葡萄牙",
            "🇵🇼": "帕劳", "🇵🇾": "巴拉圭", "🇶🇦": "卡塔尔", "🇷🇪": "留尼汪", "🇷🇴": "罗马尼亚",
            "🇷🇸": "塞尔维亚", "🇷🇺": "俄罗斯", "🇷🇼": "卢旺达", "🇸🇦": "沙特阿拉伯", "🇸🇧": "所罗门群岛",
            "🇸🇨": "塞舌尔", "🇸🇩": "苏丹", "🇸🇪": "瑞典", "🇸🇬": "新加坡", "🇸🇭": "圣赫勒拿",
            "🇸🇮": "斯洛文尼亚", "🇸🇯": "斯瓦尔巴", "🇸🇰": "斯洛伐克", "🇸🇱": "塞拉利昂", "🇸🇲": "圣马力诺",
            "🇸🇳": "塞内加尔", "🇸🇴": "索马里", "🇸🇷": "苏里南", "🇸🇸": "南苏丹", "🇸🇹": "圣多美普林西比",
            "🇸🇻": "萨尔瓦多", "🇸🇽": "荷属圣马丁", "🇸🇾": "叙利亚", "🇸🇿": "斯威士兰", "🇹🇦": "特里斯坦",
            "🇹🇨": "特克斯凯科斯", "🇹🇩": "乍得", "🇹🇫": "法属南部", "🇹🇬": "多哥", "🇹🇭": "泰国",
            "🇹🇯": "塔吉克斯坦", "🇹🇰": "托克劳", "🇹🇱": "东帝汶", "🇹🇲": "土库曼斯坦", "🇹🇳": "突尼斯",
            "🇹🇴": "汤加", "🇹🇷": "土耳其", "🇹🇹": "特立尼达", "🇹🇻": "图瓦卢", "🇹🇼": "台湾",
            "🇹🇿": "坦桑尼亚", "🇺🇦": "乌克兰", "🇺🇬": "乌干达", "🇺🇲": "美国本土外", "🇺🇳": "联合国",
            "🇺🇸": "美国", "🇺🇾": "乌拉圭", "🇺🇿": "乌兹别克斯坦", "🇻🇦": "梵蒂冈", "🇻🇨": "圣文森特",
            "🇻🇪": "委内瑞拉", "🇻🇬": "英属维京群岛", "🇻🇮": "美属维京群岛", "🇻🇳": "越南", "🇻🇺": "瓦努阿图",
            "🇼🇫": "瓦利斯富图纳", "🇼🇸": "萨摩亚", "🇽🇰": "科索沃", "🇾🇪": "也门", "🇾🇹": "马约特",
            "🇿🇦": "南非", "🇿🇲": "赞比亚", "🇿🇼": "津巴布韦",
            "🏴󠁧󠁢󠁥󠁮󠁧󠁿": "英格兰", "🏴󠁧󠁢󠁳󠁣󠁴󠁿": "苏格兰", "🏴󠁧󠁢󠁷󠁬󠁳󠁿": "威尔士"
        };

        // 渲染表情
        function renderEmojis() {
            const container = document.getElementById('emojiContainer');
            container.innerHTML = '';
            
            // 创建分类按钮网格
            const categoriesGrid = document.createElement('div');
            categoriesGrid.className = 'categories-grid';
            
            // 创建表情显示区域
            const emojiContent = document.createElement('div');
            emojiContent.className = 'emoji-content';
            emojiContent.id = 'emojiContent';
            
            let hasResults = false;
            
            Object.keys(emojiData).forEach(categoryName => {
                const category = emojiData[categoryName];
                
                // 创建分类按钮
                const categoryDiv = document.createElement('div');
                categoryDiv.className = 'category';
                
                const header = document.createElement('div');
                header.className = 'category-header';
                header.innerHTML = `
                    <span class="category-icon">${category.icon}</span>
                    <span class="category-title">${categoryName}</span>
                `;
                
                // 添加点击事件
                header.addEventListener('click', () => {
                    showCategoryEmojis(categoryName, category, emojiContent);
                });
                
                categoryDiv.appendChild(header);
                categoriesGrid.appendChild(categoryDiv);
                hasResults = true;
            });
            
            container.appendChild(categoriesGrid);
            container.appendChild(emojiContent);
            
            // 使用事件委托处理emoji点击和右键事件，减少内存占用
            emojiContent.addEventListener('click', (e) => {
                const emojiItem = e.target.closest('.emoji-item');
                if (emojiItem && emojiItem.dataset.emoji) {
                    copyEmoji(emojiItem.dataset.emoji, emojiItem);
                }
            });
            
            emojiContent.addEventListener('contextmenu', (e) => {
                e.preventDefault();
                const emojiItem = e.target.closest('.emoji-item');
                if (emojiItem && emojiItem.dataset.emoji) {
                    showVariantPopup(emojiItem.dataset.emoji, emojiItem);
                }
            });
        }

        // 显示某个分类的表情
        function showCategoryEmojis(categoryName, category, emojiContent) {
            // 移除所有按钮的激活状态
            document.querySelectorAll('.category-header').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // 如果点击的是当前激活的分类，则关闭
            if (activeCategory === categoryName) {
                emojiContent.classList.remove('active');
                emojiContent.innerHTML = '';
                activeCategory = null;
                return;
            }
            
            // 设置新的激活分类
            activeCategory = categoryName;
            if (event && event.target) {
                event.target.closest('.category-header').classList.add('active');
            }
            
            // 显示该分类的所有emoji
            const emojisToShow = category.emojis;
            
            // 清空并重新填充表情 - 使用DocumentFragment优化性能
            emojiContent.innerHTML = '';
            const fragment = document.createDocumentFragment();
            
            emojisToShow.forEach(emoji => {
                const emojiItem = document.createElement('div');
                emojiItem.className = 'emoji-item';
                emojiItem.dataset.emoji = emoji; // 使用data属性存储emoji，便于事件委托
                
                // emoji字符
                const emojiChar = document.createElement('span');
                emojiChar.className = 'emoji-char';
                emojiChar.textContent = emoji;
                emojiItem.appendChild(emojiChar);
                
                // 如果是国旗，添加国家名称标签
                if (flagNames[emoji]) {
                    const label = document.createElement('span');
                    label.className = 'emoji-label';
                    label.textContent = flagNames[emoji];
                    emojiItem.appendChild(label);
                }
                
                // 如果有变体，添加右下角三角形角标
                if (emojiVariants[emoji] && emojiVariants[emoji].length > 1) {
                    const badge = document.createElement('div');
                    badge.className = 'emoji-variant-badge';
                    emojiItem.appendChild(badge);
                }
                
                emojiItem.title = '点击复制 | 右键查看变体';
                
                fragment.appendChild(emojiItem);
            });
            
            // 一次性添加所有元素，大幅减少重排次数
            emojiContent.appendChild(fragment);
            
            // 显示表情区域
            emojiContent.classList.add('active');
            
            // 平滑滚动到表情区域
            emojiContent.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // 复制表情
        async function copyEmoji(emoji, element) {
            try {
                await navigator.clipboard.writeText(emoji);
                showToast(`已复制: ${emoji}`);
                
                // 添加复制动画
                element.classList.add('copied');
                setTimeout(() => {
                    element.classList.remove('copied');
                }, 600);
            } catch (err) {
                // 降级方案
                const textarea = document.createElement('textarea');
                textarea.value = emoji;
                textarea.style.position = 'fixed';
                textarea.style.opacity = '0';
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                showToast(`已复制: ${emoji}`);
                
                element.classList.add('copied');
                setTimeout(() => {
                    element.classList.remove('copied');
                }, 600);
            }
        }

        // 显示提示
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        // 更新统计
        function updateStats() {
            let totalEmojis = 0;
            
            Object.keys(emojiData).forEach(categoryName => {
                const category = emojiData[categoryName];
                totalEmojis += category.emojis.length;
            });
            
            document.getElementById('totalCount').textContent = totalEmojis;
        }

        // 初始化页面
        function initPage() {
            renderEmojis();
            updateStats();
        }

        // 显示变体弹出菜单
        function showVariantPopup(emoji, targetElement) {
            const variants = emojiVariants[emoji];
            
            // 如果没有变体，直接返回
            if (!variants || variants.length <= 1) {
                return;
            }
            
            const popup = document.getElementById('variantPopup');
            
            popup.innerHTML = '';
            
            // 添加所有变体
            variants.forEach(variant => {
                const variantItem = document.createElement('div');
                variantItem.className = 'variant-item';
                variantItem.textContent = variant;
                variantItem.title = '点击复制';
                
                // 点击复制变体
                variantItem.onclick = (e) => {
                    e.stopPropagation();
                    copyEmoji(variant, variantItem);
                    hideVariantPopup();
                };
                
                popup.appendChild(variantItem);
            });
            
            // 获取目标元素的位置（相对于视口）
            const rect = targetElement.getBoundingClientRect();
            
            // 显示弹出框（先显示才能获取宽度）
            popup.classList.add('show');
            
            // 计算弹出框位置（在原表情上方，居中对齐）
            const popupRect = popup.getBoundingClientRect();
            let left = rect.left + (rect.width / 2) - (popupRect.width / 2);
            let top = rect.top - popupRect.height - 10; // 上方10px间距
            
            // 确保不超出视口边界
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;
            
            // 左右边界检查
            if (left < 10) {
                left = 10;
            } else if (left + popupRect.width > windowWidth - 10) {
                left = windowWidth - popupRect.width - 10;
            }
            
            // 上下边界检查（如果上方空间不够，显示在下方）
            if (top < 10) {
                top = rect.bottom + 10;
            }
            
            // 设置位置
            popup.style.left = left + 'px';
            popup.style.top = top + 'px';
        }
        
        // 隐藏变体弹出菜单
        function hideVariantPopup() {
            const popup = document.getElementById('variantPopup');
            popup.classList.remove('show');
        }
        
        // 点击页面其他地方关闭弹出框
        document.addEventListener('click', (e) => {
            const popup = document.getElementById('variantPopup');
            const isClickInPopup = popup && popup.contains(e.target);
            const isClickOnEmoji = e.target.closest('.emoji-item');
            
            // 如果点击的不是弹出框内部，也不是表情项（防止右键时立即关闭），则关闭
            if (!isClickInPopup && !isClickOnEmoji) {
                hideVariantPopup();
            }
        });
        
        // 按ESC键关闭弹出框
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                hideVariantPopup();
            }
        });

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>
